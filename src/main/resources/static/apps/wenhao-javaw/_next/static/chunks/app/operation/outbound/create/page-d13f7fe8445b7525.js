(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{2086:function(e,a,t){Promise.resolve().then(t.bind(t,7828))},7828:function(e,a,t){"use strict";t.r(a);var o=t(9268);t(6006);var s=t(9698),r=t(6756),l=t(6008);a.default=function(){let e=(0,l.useRouter)();return(0,o.jsxs)("div",{children:[(0,o.jsxs)(s.aGc,{children:[(0,o.jsx)(s.gN6,{children:(0,o.jsx)("a",{onClick:()=>{e.push("".concat("/apps/wenhao-javaw","/home"))},children:"Home"})}),(0,o.jsx)(s.gN6,{onClick:()=>{e.push("".concat("/apps/wenhao-javaw","/operation/inbound"))},children:"Operation"}),(0,o.jsx)(s.gN6,{onClick:()=>{e.push("".concat("/apps/wenhao-javaw","/operation/outbound"))},children:"Outbound"}),(0,o.jsx)(s.gN6,{onClick:()=>{e.push("".concat("/apps/wenhao-javaw","/operation/outbound/create"))},children:"Create"})]}),(0,o.jsx)("div",{className:"bx--col-lg-16 flex justify-between items-center",children:(0,o.jsx)(s.X6q,{className:"mt-2 text-[28px] font-normal",children:"Create a Outbound List"})}),(0,o.jsx)(r.Z,{})]})}},6756:function(e,a,t){"use strict";var o=t(9268),s=t(6006),r=t(9698);t(690);var l=t(7905),n=t(2196),i=t(6008),c=t(5326),u=t.n(c),d=t(4566);let p=[{key:"name",header:"Material Name"},{key:"product_code",header:"Material Code"},{key:"specification",header:"Specification"},{key:"quantity",header:"Quantity"},{key:"unit",header:"Unit"},{key:"expect_wh_id",header:"WH"},{key:"expact_stock_location_id",header:"Shelf"}];a.Z=function(e){let{id:a}=e,t=(0,i.useRouter)(),c=(0,i.usePathname)(),[h,m]=(0,s.useState)({creator:"",purchase_order_no:"",supplier:"",delivery_date:""}),[_,x]=(0,s.useState)(""),j=e=>{let{id:a,value:t}=e.target;m(e=>({...e,[a]:t}))},[f,v]=(0,s.useState)([]),[b,y]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{a&&(0,n.NE)({id:a}).then(e=>{console.log(e),m({creator:e.list[0].outbound_creator,purchase_order_no:e.list[0].outbound_purchase_order_no,supplier:e.list[0].outbound_supplier,delivery_date:e.list[0].outbound_delivery_date}),x(u()(e.list[0].outbound_delivery_date).format(d.U.shortDate));let a=e.list.map(e=>({name:e.name,product_code:e.product_code,specification:e.specification,quantity:e.quantity,unit:e.unit,expect_wh_id:e.warehouse_id,expact_stock_location_id:e.stock_location_id}));v(a)}).catch(e=>{console.error("Failed to fetch inbound details:",e)})},[a]),(0,o.jsxs)("div",{children:[(0,o.jsxs)(r.rjZ,{className:"p-0 mt-[50px] gap-[9px]",children:[(0,o.jsx)(r.sgG,{className:"ml-0",sm:2,md:4,lg:4,children:(0,o.jsx)(r.oil,{className:"flex-auto ",labelText:"Creator",id:"creator",placeholder:"Creator",value:h.creator,onChange:j})}),(0,o.jsx)(r.sgG,{className:"ml-0",sm:2,md:4,lg:4,children:(0,o.jsx)(r.oil,{className:"flex-auto ",labelText:"Purchase order No.",id:"purchase_order_no",placeholder:"Purchase order No.",value:h.purchase_order_no,onChange:j})}),(0,o.jsx)(r.sgG,{className:"ml-0",sm:2,md:4,lg:4,children:(0,o.jsx)(r.oil,{className:"flex-auto ",labelText:"Supplier",id:"supplier",placeholder:"Supplier",value:h.supplier,onChange:j})}),(0,o.jsx)(r.sgG,{className:"ml-0",sm:2,md:4,lg:4,children:(0,o.jsx)(r.Mtg,{datePickerType:"single",onChange:e=>{e&&(m(a=>({...a,delivery_date:u()(e[0]).format()})),x(u()(e[0]).format(d.U.shortDate)))},children:(0,o.jsx)(r.aj6,{placeholder:"dd/mm/yyyy",labelText:"Delivery Date",id:"delivery_date",value:_})})}),(0,o.jsx)(r.sgG,{sm:2,md:4,lg:4,children:(0,o.jsx)(r.oil,{readOnly:!0,className:"flex-auto",labelText:"Status",id:"status",placeholder:"Status",value:c==="".concat("/apps/wenhao-javaw","/operation/outbound/create")?"Pending":"Outbound"})})]}),(0,o.jsx)(r.GQc,{className:"w-full mt-10 mb-10 pl-0"}),(0,o.jsxs)("div",{className:"mb-10",children:[(0,o.jsx)(r.lXp,{className:"mb-2",children:"Material List"}),(0,o.jsx)(l.Z,{headers:p,rows:f,setRows:v})]}),b&&(0,o.jsx)(r.K0D,{className:"w-full",title:"Notice: ",subtitle:"No inbound material"}),(0,o.jsxs)("div",{className:"flex space-x-4 mt-10 justify-center ",children:[(0,o.jsx)(r.zxk,{size:"sm",onClick:e=>{if(e.preventDefault(),0===f.length){y(!0);return}if(y(!1),c==="".concat("/apps/wenhao-javaw","/operation/outbound/create")){let e={...h,source:"manual",request_detail:function(e){let a=e.map(e=>({material_code:e.product_code,quantity:e.quantity,stock_location_id:e.expact_stock_location_id,wh_id:e.expect_wh_id}));return a}(f)};console.log(e),(0,n.Kk)(e).then(()=>{m({creator:"",purchase_order_no:"",supplier:"",delivery_date:""}),v([]),t.push("".concat("/apps/wenhao-javaw","/operation/outbound"))})}else{let e={...h,source:"manual",status:"done",id:a};console.log(e),(0,n.Mf)(e).then(()=>{m({creator:"",purchase_order_no:"",supplier:"",delivery_date:""}),v([]),t.push("".concat("/apps/wenhao-javaw","/operation/outbound"))})}},children:"Submit"}),(0,o.jsx)(r.zxk,{size:"sm",kind:"tertiary",onClick:()=>{t.push("".concat("/apps/wenhao-javaw","/operation/outbound"))},children:"Cancel"})]})]})}}},function(e){e.O(0,[550,313,307,846,866,531,698,744],function(){return e(e.s=2086)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{1335:function(e,t,a){Promise.resolve().then(a.bind(a,5990))},1641:function(e,t,a){"use strict";a.d(t,{R1:function(){return AddWarehouses},N6:function(){return addInboundRecord},_R:function(){return addMaterial},X:function(){return addMaterialRFID},Kk:function(){return addOutboundRecord},tR:function(){return addStocktakingRecord},UT:function(){return addStorageLocation},Gs:function(){return deleteInbound},Gx:function(){return deleteMaterial},jA:function(){return deleteOutbound},Ap:function(){return deleteStocktaking},zf:function(){return deleteStorageLocation},x0:function(){return deleteWarehouse},z2:function(){return fetchInbound},hU:function(){return fetchInboundDetails},nW:function(){return fetchInboundWithFilter},v0:function(){return fetchMaterial},aG:function(){return fetchMaterialRFID},hI:function(){return fetchMaterialWithFilters},eB:function(){return fetchOutbound},NE:function(){return fetchOutboundDetails},Ju:function(){return fetchOutboundWithFilter},eN:function(){return fetchStocktaking},DP:function(){return fetchStocktakingDetails},_b:function(){return fetchStocktakingWithFilter},$_:function(){return fetchStorageLocationsByWId},tV:function(){return fetchWarehouses},_U:function(){return fetchWarehousesWithFilters},VR:function(){return updateMaterial},qL:function(){return updateWarehouse}});var n=a(2173),o=a(1490);a(2601);let r=n.Z.create({baseURL:"/wmsbackendapi",withCredentials:!0,timeout:1e5});function removeLoginInfo(){o.Z.remove("isv_token")}async function fetchWarehouses(e,t){return r.post("/wms/warehouse/get",{},{params:{pageNum:e,pageSize:t}}).then(e=>(console.log(e),e.data.data))}async function fetchWarehousesWithFilters(e){return r.post("/wms/warehouse/get",e).then(e=>(console.log(e),e.data.data))}async function AddWarehouses(e){return r.post("/wms/warehouse/add",e).then(e=>console.log(e))}async function deleteWarehouse(e){return r.post("/wms/warehouse/delete",{id:e}).then(e=>console.log(e))}async function updateWarehouse(e){return r.post("/wms/warehouse/update",e).then(e=>console.log(e))}async function fetchStorageLocationsByWId(e){return r.post("/wms/storagelocation/get",e).then(e=>(console.log(e),e.data.data))}async function addStorageLocation(e){return r.post("/wms/storagelocation/add",e).then(e=>(console.log(e),e.data.data))}async function deleteStorageLocation(e){return r.post("/wms/storagelocation/delete",e).then(e=>(console.log(e),e.data.data))}async function fetchMaterial(){return r.post("/wms/material/get").then(e=>(console.log(e),e.data.data))}async function fetchMaterialWithFilters(e){return r.post("/wms/material/get",e).then(e=>(console.log(e),e.data.data))}async function addMaterial(e){return r.post("/wms/material/add",e).then(e=>(console.log(e),e.data.data))}async function updateMaterial(e){return r.post("/wms/material/update",e).then(e=>(console.log(e),e.data.data))}async function deleteMaterial(e){return r.post("/wms/material/delete",e).then(e=>(console.log(e),e.data.data))}async function fetchMaterialRFID(){return r.post("/wms/rfidmaterial/get").then(e=>(console.log(e),e.data.data))}async function addMaterialRFID(e){return r.post("/wms/rfidmaterial/add",e).then(e=>(console.log(e),e.data.data))}async function addInboundRecord(e){return r.post("/wms/inbound/add",e).then(e=>(console.log(e),e.data.data))}async function fetchInbound(){return r.post("/wms/inbound/get").then(e=>(console.log(e),e.data.data))}async function fetchInboundWithFilter(e){return r.post("/wms/inbound/get",e).then(e=>(console.log(e),e.data.data))}async function deleteInbound(e){return r.post("/wms/inbound/delete",e).then(e=>(console.log(e),e.data.data))}async function fetchInboundDetails(e){return r.post("/wms/inbound/detail/get",e).then(e=>(console.log(e),e.data.data))}async function addOutboundRecord(e){return r.post("/wms/outbound/add",e).then(e=>(console.log(e),e.data.data))}async function fetchOutbound(){return r.post("/wms/outbound/get").then(e=>(console.log(e),e.data.data))}async function fetchOutboundWithFilter(e){return r.post("/wms/outbound/get",e).then(e=>(console.log(e),e.data.data))}async function deleteOutbound(e){return r.post("/wms/outbound/delete",e).then(e=>(console.log(e),e.data.data))}async function fetchOutboundDetails(e){return r.post("/wms/outbound/detail/get",e).then(e=>(console.log(e),e.data.data))}async function addStocktakingRecord(e){return r.post("/wms/stocktaking/add",e).then(e=>(console.log(e),e.data.data))}async function fetchStocktaking(){return r.post("/wms/stocktaking/get").then(e=>(console.log(e),e.data.data))}async function fetchStocktakingWithFilter(e){return r.post("/wms/stocktaking/get",e).then(e=>(console.log(e),e.data.data))}async function deleteStocktaking(e){return r.post("/wms/stocktaking/delete",e).then(e=>(console.log(e),e.data.data))}async function fetchStocktakingDetails(e){return r.post("/wms/stocktaking/detail/get",e).then(e=>(console.log(e),e.data.data))}r.interceptors.request.use(e=>(null!=o.Z.get("isv_token")&&(e.headers.userToken=o.Z.get("isv_token")),e),e=>Promise.reject(e)),r.interceptors.response.use(function(e){return 401===e.data.code?(removeLoginInfo(),Promise.reject()):e},function(e){return(console.log(e),401===e.response.status)?(removeLoginInfo(),Promise.reject()):Promise.reject(e)})},5990:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return page}});var n=a(7437),o=a(2265),r=a(5461),s=a(1005),l=a(6302),i=a(8108),d=a(5097),c=a(2107);a(3180);var u=a(1641),Modal_EditMaterialModal=e=>{let{isOpen:t,onClose:a,setRefresh:s,materialValues:l,setMaterialValues:i}=e,[d,c]=(0,o.useState)({codeInvalid:!1,nameInvalid:!1}),[h,m]=(0,o.useState)(l);(0,o.useEffect)(()=>{m(l)},[l]);let onFormValueChange=e=>{let{id:t,value:a}=e.target;m(e=>({...e,[t]:a}))},handleSubmit=async()=>{let e={codeInvalid:!h.product_code||""===h.product_code,nameInvalid:!h.name||""===h.name};if(c(e),Object.values(d).some(e=>e)){c(e);return}(0,u.VR)(h).then(e=>{a(),s({})})};return(0,n.jsx)(r.u_l,{open:t,modalHeading:"Edit a Material",modalLabel:"Material Management",primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:()=>{i({}),c({codeInvalid:!1,nameInvalid:!1}),a()},onRequestSubmit:handleSubmit,children:(0,n.jsxs)(r.rjZ,{className:"pl-0 pr-0",children:[(0,n.jsx)(r.sgG,{sm:2,md:4,lg:8,children:(0,n.jsx)(r.oil,{className:"mb-5",id:"product_code",labelText:"Material Code",placeholder:"Material Code",required:!0,invalid:d.codeInvalid,invalidText:"This field cannot be empty",value:h.product_code,onChange:onFormValueChange})}),(0,n.jsx)(r.sgG,{sm:2,md:4,lg:8,children:(0,n.jsx)(r.oil,{className:"mb-5",id:"name",labelText:"Material Name",placeholder:"Material name",required:!0,invalid:d.nameInvalid,invalidText:"This field cannot be empty",value:h.name,onChange:onFormValueChange})}),(0,n.jsx)(r.sgG,{sm:2,md:4,lg:8,children:(0,n.jsx)(r.oil,{className:"mb-5",id:"product_type",labelText:"Type",placeholder:"type",required:!0,value:h.product_type,onChange:onFormValueChange})}),(0,n.jsx)(r.sgG,{sm:2,md:4,lg:8,children:(0,n.jsx)(r.oil,{className:"mb-5",id:"unit",labelText:"Unit",placeholder:"Unit",value:h.unit,onChange:onFormValueChange})}),(0,n.jsx)(r.sgG,{sm:4,md:8,lg:16,children:(0,n.jsx)(r.Kx8,{id:"note",labelText:"Note",placeholder:"Note",value:h.note,onChange:onFormValueChange})})]})})},Modal_StorageLocationModal=function(e){let{isModalOpen:t,setModalOpen:a,material_info:o}=e;return(0,n.jsx)(r.u_l,{open:t,modalHeading:"All Shelf Location",passiveModal:!0,onRequestClose:()=>a(!1),size:"lg",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.X6q,{className:"text-sm font-normal leading-tight tracking-tight mb-3",children:["All shelf location containing this material - ",o.name,":"]}),(0,n.jsx)(r.X6q,{className:"text-sm font-normal leading-tight tracking-tight mb-3",children:o.storage_location})]})})},Table_MaterialTable=function(e){let{headers:t,rows:a,setRefresh:s}=e,[l,i]=(0,o.useState)(1),[h,m]=(0,o.useState)(10),g=a.slice((l-1)*h,l*h),[f,p]=(0,o.useState)({}),[x,b]=(0,o.useState)(!1),[j,y]=o.useState(!1),[k,w]=(0,o.useState)([]),handleEditRow=e=>{p(e),b(!0)},handleDeleteRow=async e=>{(0,u.Gx)({id:e}).then(e=>s({}))};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(r.x4x,{isCondensed:!0,children:[(0,n.jsx)(r.SmK,{children:(0,n.jsx)(r.s1N,{head:!0,children:t.map((e,t)=>(0,n.jsx)(r.agF,{head:!0,children:e.header},e.key))})}),(0,n.jsx)(r.FxI,{children:g.map((e,a)=>(0,n.jsxs)(r.s1N,{children:[t.map(t=>"storage_location"===t.key?(0,n.jsx)(r.agF,{children:(0,n.jsx)(r.rUS,{onClick:()=>{console.log(e),y(!0),w(e)},children:"Storage location details"})},t.key):(0,n.jsx)(r.agF,{children:e[t.key]},t.key)),(0,n.jsxs)(r.agF,{children:[(0,n.jsx)(r.JMr,{"aria-label":"Edit",children:(0,n.jsx)(d.I8,{size:15,onClick:()=>handleEditRow(e)})}),(0,n.jsx)(r.JMr,{"aria-label":"Delete",onClick:()=>handleDeleteRow(e.id),children:(0,n.jsx)(c.HG,{size:15})})]})]},e.id))})]}),(0,n.jsx)(r.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"Items per page:",page:l,pageNumberText:"Page Number",pageSize:h,pageSizes:[5,10,20,30,40,50],totalItems:a.length,onChange:e=>{let{page:t,pageSize:a}=e;i(t),m(a)}}),(0,n.jsx)(Modal_EditMaterialModal,{isOpen:x,onClose:()=>{b(!1)},materialValues:f,setRefresh:s,setMaterialValues:p}),(0,n.jsx)(Modal_StorageLocationModal,{isModalOpen:j,setModalOpen:y,material_info:k})]})};let h=[{key:"product_code",header:"Material Code"},{key:"name",header:"Material Name"},{key:"product_type",header:"Material Type"},{key:"unit",header:"Unit"},{key:"storage_location",header:"Storage Location"},{key:"note",header:"Note"}];var page=function(){let[e,t]=(0,o.useState)({product_code:"",name:"",product_type:""}),onFormValueChange=e=>{let{id:a,value:n}=e.target;t(e=>({...e,[a]:n}))},[a,d]=(0,o.useState)([]),[c,m]=(0,o.useState)({});return(0,o.useEffect)(()=>{(0,u.v0)().then(e=>d(e))},[c]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(r.aGc,{children:[(0,n.jsx)(r.gN6,{children:(0,n.jsx)("a",{href:"/",children:"Home"})}),(0,n.jsx)(r.gN6,{href:"/warehouse",children:"Warehouse"}),(0,n.jsx)(r.gN6,{href:"/warehouse/material",children:"Material"})]}),(0,n.jsxs)("div",{className:"bx--col-lg-16 flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.X6q,{className:"mt-2 text-[28px] font-normal",children:"Material"}),(0,n.jsx)(r.X6q,{className:"mt-1 text-sm",children:"Input materials details for inventory management"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(r.zxk,{href:"/warehouse/material/rfid",className:"mr-2 bg-[#6929C4]",isExpressive:!0,size:"sm",renderIcon:s.ol,children:"RFID Tag"}),(0,n.jsx)(r.zxk,{href:"/warehouse/material/create",isExpressive:!0,size:"sm",renderIcon:l.mm,children:"Create a Material"})]})]}),(0,n.jsxs)("div",{className:"flex mt-20 space-x-4 items-end",children:[(0,n.jsx)(r.oil,{className:"flex-auto w-20",labelText:"Material Code",id:"product_code",placeholder:"Material Code",value:e.product_code,onChange:onFormValueChange}),(0,n.jsx)(r.oil,{className:"flex-auto w-20",labelText:"Material Name",id:"name",placeholder:"Material Name",value:e.name,onChange:onFormValueChange}),(0,n.jsx)(r.oil,{className:"flex-auto w-20",labelText:"Material Type",id:"product_type",placeholder:"Material Type",value:e.product_type,onChange:onFormValueChange}),(0,n.jsx)(r.JMr,{"aria-label":"Search",onClick:()=>{let t=Object.entries(e).reduce((e,t)=>{let[a,n]=t;return""!==n&&(e[a]=n),e},{});Object.entries(t).length>0?(0,u.hI)(t).then(e=>d(e)):(0,u.v0)().then(e=>d(e))},children:(0,n.jsx)(s.ol,{size:16})}),(0,n.jsx)(r.JMr,{"aria-label":"Remove Filters",onClick:()=>{(0,u.v0)().then(e=>d(e)),t({product_code:"",name:"",product_type:""})},children:(0,n.jsx)(i.eL,{size:16})})]}),(0,n.jsx)("div",{className:"mt-12",children:(0,n.jsx)(Table_MaterialTable,{headers:h,rows:a,setRefresh:m})})]})}},3180:function(){}},function(e){e.O(0,[788,668,107,971,472,744],function(){return e(e.s=1335)}),_N_E=e.O()}]);